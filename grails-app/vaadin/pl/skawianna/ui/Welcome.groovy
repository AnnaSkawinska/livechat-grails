package pl.skawianna.uiimport java.util.Listimport pl.skawianna.Userimport pl.skawianna.UserServiceimport com.vaadin.grails.Grailsimport com.vaadin.ui.Buttonimport com.vaadin.ui.CustomComponentimport com.vaadin.ui.Labelimport com.vaadin.ui.TextFieldimport com.vaadin.ui.VerticalLayoutimport com.vaadin.ui.Button.ClickEventimport com.vaadin.ui.Button.ClickListener
class Welcome extends CustomComponent  {
	VerticalLayout loginLayout	TextField login	Label error	Button ok	UserService userService = Grails.get(UserService)		public Welcome() {		buildMainLayout()		setCompositionRoot(loginLayout)	}		private void buildMainLayout() {		loginLayout = new VerticalLayout()		login = new TextField()		error = new Label()		ok = new Button()		login.setCaption("Wybierz nick:")		login.setRequired(true)		ok.setCaption("Wejd≈∫ na czat!")		ok.addClickListener(new ClickListener() {			@Override			public void buttonClick(ClickEvent event) {				login.getValue()				userService.addOnlineUser(login.getValue())				List<User> users = userService.getUsers()				for (User user : users) {					loginLayout.addComponent(new Label(user.getUsername()))				}			}		})		loginLayout.setSizeFull()		loginLayout.addComponent(login)		loginLayout.addComponent(error)		loginLayout.addComponent(ok)	}	}